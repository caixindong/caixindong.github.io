
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Cool Guy</title>
	<meta name="author" content="Xindong">

	
	<meta name="description" content="ios iOS本地推送功能实现 1、首先在AppDelegate注册推送 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions { &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Cool Guy" type="application/atom+xml">
	
	<link rel="canonical" href="http://caixindong.github.io/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		document.write("<img alt='Profile Picture' src='/images/touxiang.jpeg' style='width: 160px;'>");
	</script>
</div>
<h1><a href="/">Cool Guy</a></h1>
<p class="subtitle">Blog like a hacker.</p>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/aboutme">AboutMe</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		<a class="weibo" href="http://www.weibo.com/3872004666/profile?topnav=1&wvr=6" title="Weibo">Weibo</a>
		
		
		
		
		
		<a class="github" href="http://git.oschina.net/xindong" title="GitHub">GitHub</a>
		
		
		<a class="dribbble" href="http://www.dribbble.com/allenhsu" title="Dribbble">Dribbble</a>
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
<hgroup>

</hgroup>

</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-01-11T15:49:33+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/01/11/ios20/" itemprop="url">iOS本地推送功能实现</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>1、首先在AppDelegate注册推送</p>

<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {


    if ([application respondsToSelector:@selector(registerUserNotificationSettings:)]) {

    //注册推送, iOS 8以上
    UIUserNotificationSettings *settings = [UIUserNotificationSettings

                                            settingsForTypes:(UIUserNotificationTypeBadge |

                                                              UIUserNotificationTypeSound |

                                                              UIUserNotificationTypeAlert)

                                            categories:nil];

    [application registerUserNotificationSettings:settings];
    [application registerForRemoteNotifications];

} else {
    //注册推送, 适配系统版本iOS 8以下的手机
    UIRemoteNotificationType myTypes = UIRemoteNotificationTypeBadge |

    UIRemoteNotificationTypeAlert |

    UIRemoteNotificationTypeSound;

    [application registerForRemoteNotificationTypes:myTypes];

}


return YES;
}
</code></pre>

<p>2、注册成功与否的回调</p>

<pre><code>- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData*)deviceToken {
        NSLog(@"device token is %@",deviceToken);
}

- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error{
        NSLog(@"push fail error is %@",error);
}
</code></pre>

<p>3、获取本地通知数据回调</p>

<pre><code>- (void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification{
        NSLog(@"get notification");
        //获取通知后的操作
}
</code></pre>

<p>4、发起本地推送</p>

<pre><code>-(void)sendLocalNotifation{
    UILocalNotification* notifation = [[UILocalNotification alloc]init];
    //当前时间5秒后
    NSDate* pushDate = [NSDate dateWithTimeIntervalSinceNow:5];
    if (notifation!=nil) {
        //设置推送时间
        notifation.fireDate = pushDate;
        //设置时区
        notifation.timeZone = [NSTimeZone defaultTimeZone];
        //设置重复次数
        notifation.repeatInterval = 0;
        notifation.soundName = UILocalNotificationDefaultSoundName;
        //通知弹窗的文本
        notifation.alertBody = @"推送的文本";
        //设置icon小红点
        notifation.applicationIconBadgeNumber = 1;
        //设置userinfo 方便在之后需要撤销的时候使用
        NSDictionary* info = [NSDictionary dictionaryWithObject:@"通知的名字" forKey:@"key"];
        notifation.userInfo = info;
        //添加推送到UIApplication
        UIApplication* app = [UIApplication sharedApplication];
        [app scheduleLocalNotification:notifation];
    }
}
</code></pre>

<p>5、解除本地推送</p>

<pre><code>-(void)cancleLocalNotifation{
    UIApplication* app = [UIApplication sharedApplication];
    //获取所有本地推送
    NSArray* localArray = [app scheduledLocalNotifications];
    UILocalNotification* notification;
    if (localArray) {
        for(UILocalNotification* noti in localArray){
        NSDictionary* userInfo = noti.userInfo;
        if (userInfo) {
            NSString *keyValue = [userInfo objectForKey:@"key"];
            if ([keyValue isEqualToString:@"通知的名字"]) {
                notification = noti;
                [app cancelLocalNotification:notification];
            }
        }
    }
}
</code></pre>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-12-31T22:51:47+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/12/31/ios19/" itemprop="url">iOS图片压缩及上传</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>1、在工具类定义压缩图片的方法,传入图片和所要压缩的尺寸</p>

<pre><code>+(UIImage *)imageWithImage:(UIImage *)image scaleToSize :(CGSize )newSize{

UIGraphicsBeginImageContext(newSize);

[image drawInRect:CGRectMake(0, 0, newSize.width, newSize.height)];

UIImage* newImage = UIGraphicsGetImageFromCurrentImageContext();

UIGraphicsEndImageContext();

return newImage;

}
</code></pre>

<p>2、利用AFNetworking做图片上传功能</p>

<pre><code>+(void)POSTToUrl:(NSString *)url WithData:(NSData *)data 
    WithReturnBlock:(ReturnValueBlock)block         
    WithErrorCodeBlock:(ErrorCodeBlock)errorBlock       
    WithFailtureBlock:(FailureBlock)failtureBlock{

    AFHTTPRequestOperationManager* manager = [[AFHTTPRequestOperationManager alloc]init];

    manager.requestSerializer = [AFHTTPRequestSerializer serializer];
    manager.responseSerializer = [AFJSONResponseSerializer serializer];     

    //不设置可能会出现404的bug
    manager.responseSerializer.acceptableContentTypes =     [manager.responseSerializer.acceptableContentTypes   setByAddingObject:@"text/html"];

    [manager POST:url parameters:nil 
    constructingBodyWithBlock:^(id&lt;AFMultipartFormData&gt; formData) {
        //以上传的时间为图片名
        NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
        formatter.dateFormat = @"yyyyMMddHHmmss";
        NSString *str = [formatter stringFromDate:[NSDate date]];
        NSString *fileName = [NSString stringWithFormat:@"%@.png", str];

        [formData appendPartWithFileData:data 
        name:@"upload" //upload.php处理文件的字段
        fileName:fileName //图片名字 
        mimeType:@"image/png"];

    }success:^(AFHTTPRequestOperation *operation,id responseObject) {
        //上传成功
    }failure:^(AFHTTPRequestOperation *operation,NSError *error) {
        //上传失败
    }
}
</code></pre>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-12-18T21:12:27+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/12/18/ios18/" itemprop="url">iOS开发过程中遇过的一些小bug（二）</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>1、block会release，所以在使用的时候记得非空判断，特别在使用AFNetworking block交互的时候</p>

<p>2、有时候在真机测试的时，某些第三方库编译不通过，可能bitcode没关，可以在build setting里面将这个值设为no。苹果文档是这样说的：bitcode是被编译程序的一种中间形式的代码，包含bitcode配置的程序将会在App store上被编译和链接，bitcode允许苹果在后期重新优化我们程序的二进制文件，而不需要我们重新提交一个新的版本到App store上。</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-11-19T16:35:49+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/11/19/ios17/" itemprop="url">几个比较有趣的界面过渡动画</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>动画的类型依次为立方，吸走，翻转，水波，翻页，翻页回，打开相机，关闭相机</p>

<pre><code>NSString *Types[]={@"cube",
@"suckEffect",
@"oglFlip",
@"rippleEffect",
@"pageCurl",
@"pageUnCurl",
@"cameraIrisHollowOpen",
@"cameraIrisHollowClose"};
</code></pre>

<p>直接贴代码</p>

<pre><code>CATransition *animation = [CATransition animation];
[animation setDuration:0.8];
//设置动画的类型
[animation setType: @"rippleEffect"];
//设置动画变化快慢得函数
[animation setTimingFunction:[CAMediaTimingFunction functionWithName:
kCAMediaTimingFunctionLinear]];
[self.navigationController.view.layer addAnimation:animation forKey:nil];
[self.navigationController pushViewController:tvc animated:NO];
</code></pre>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-11-19T16:20:47+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/11/19/ios16/" itemprop="url">iOS开发过程中遇过的一些小bug（一）</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>  当我们在使用<code>UITableView</code>的时候或者其他类<code>UIScrollView</code>的UI组件时，我们可能会遇到UITableView顶部留有一段空白区域的情况，那是因为<code>iOS 7</code> viewcontroller新增属性<code>automaticallyAdjustsScrollViewInsets</code>，即是否根据按所在界面的navigationbar与tabbar的高度，自动调整scrollview的 inset。如果我们不想要那段空白，将<code>automaticallyAdjustsScrollViewInsets</code>这个值设为<code>NO</code>就可以解决这个问题了</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-11-08T21:31:42+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/11/08/ios15/" itemprop="url">强大的FastCoder</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>FastCoder是一个Cocoa object和object graph的高性能二进制序列化格式,可以作为Property Lists和JSON的替代选择。通过两个简单的方法就可以实现任意对象和NSData之间的相互转化</p>

<p>1、对象转化为NSData</p>

<pre><code>NSData *data = [FastCoder dataWithRootObject:obj];
</code></pre>

<p>2、从中NSData取回对象</p>

<pre><code>id obj = [FastCoder objectWithData:data];
</code></pre>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-10-25T10:10:17+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/10/25/ios14/" itemprop="url">为项目添加定位和导航功能</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>现在不少App都配备了定位和导航的功能，今天我教大家用iOS原生态的方法来实现这个两个功能。我们通过系统提供的CoreLocation和MapKit来实现。接下来用代码来演示。</p>

<p>1、添加MapView并且实例化它</p>

<pre><code>MKMapView* myMapView = = [[MKMapView alloc]initWithFrame:self.view.frame];

//让MapView显示当前位置
[myMapView setShowsUserLocation:YES];

//设置代理（MKMapViewDelegate）
myMapView.delegate = self;
[self.view addSubview:myMapView];
</code></pre>

<p>2、声明CLLocationManager并且实例化它，实现定位功能</p>

<pre><code>CLLocationManager* manager;
if (manager==nil) {
    manager = [[CLLocationManager alloc]init];
    if ([manager respondsToSelector:@selector(requestWhenInUseAuthorization)]) {
        [_manager requestWhenInUseAuthorization];

        //设置代理（CLLocationManagerDelegate）
        manager.delegate = self;

        //设置定位精度
        manager.desiredAccuracy = kCLLocationAccuracyBest;

        //设置距离筛选
        manager.distanceFilter = 100;
    }
}
//开始定位
[manager startUpdatingLocation];
</code></pre>

<p>注意：使用定位时记得在Info.plist添加NSLocationWhenInUseUsageDescription这个键值</p>

<p>3、实现CLLocationManagerDelegate的方法</p>

<pre><code>//定位成功的回调
-(void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray&lt;CLLocation *&gt; *)locations{
    //获取定位成功的经纬度
    CLLocation* location1 = locations.firstObject;
    CLLocationCoordinate2D centerCoordinate2D = location1.coordinate;

    //为MapView添加大头针
     MKPointAnnotation* localAnnotstion = [[MKPointAnnotation alloc]init];
    localAnnotstion.coordinate = centerCoordinate2D;
    localAnnotstion.title = @"当前位置";
    [_myMapView addAnnotation:localAnnotstion];

    //设置MapView的显示区域
    MKCoordinateRegion region1 = MKCoordinateRegionMakeWithDistance(centerCoordinate2D, 500, 500);
    [myMapView setRegion:[myMapView regionThatFits:region1] animated:YES];

    //定位成功就导航，设置导航路线的起点
    MKPlacemark* localPlacemark = [[MKPlacemark alloc]initWithCoordinate:centerCoordinate2D addressDictionary:nil];
    MKMapItem* fromItem = [[MKMapItem alloc]initWithPlacemark:localPlacemark];

    //createLineFromCurrentSite是我自己写的方法，用来获取导航路线和获取导航步骤
    //myItem指导航的终点，它实例化参考上面fromItem的实例化
    [self createLineFromCurrentSite:fromItem to:myItem];

    //停止定位
    [manager stopUpdatingLocation];

}

//定位失败的回调
-(void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error{
NSLog(@"guide error is %@",error);
}
</code></pre>

<p>4、createLineFromCurrentSite方法的实现，用来用来获取导航路线和获取导航步骤</p>

<pre><code>-(void)createLineFromCurrentSite:(MKMapItem*) fromItem to:(MKMapItem*)toItem{
    //实例化导航请求
    MKDirectionsRequest* request = [[MKDirectionsRequest alloc]init];

    //设置导航的起点和终点
    request.source = fromItem;
    request.destination = toItem;

    //为no时只显示一条导航路线
    request.requestsAlternateRoutes = NO;

    //实例化MKDirections
    MKDirections* directions = [[MKDirections alloc]initWithRequest:request];

    //如果当前导航好没结束，就取消下一次导航请求
    if (directions.calculating) {
        [directions cancel];
    }

    //开始导航，在block里面写回调的方法
    [directions calculateDirectionsWithCompletionHandler:^(MKDirectionsResponse * _Nullable response, NSError * _Nullable error) {
        if (response.routes.count==0|| error) {
        //导航失败
            NSLog(@"directions error is %@",error);
        }else{
        //导航成功
            for (MKRoute* route in response.routes) {
                for (MKRouteStep* step in route.steps) {
               //打印导航的步骤
                NSLog(@"导航:%@", step.instructions);
            }
        //将导航路线添加到MapView上面
        [myMapView addOverlay:route.polyline level:MKOverlayLevelAboveRoads];
        }
    }
    }];
}
</code></pre>

<p>5、实现MKMapViewDelegate的方法</p>

<pre><code>//通过这个方法来帮我们绘制导航路线
-(MKOverlayRenderer *)mapView:(MKMapView *)mapView rendererForOverlay:(id&lt;MKOverlay&gt;)overlay{
    if ([overlay isKindOfClass:[MKPolyline class]]) {
        //设置渲染器
        MKPolylineRenderer* renderer = [[MKPolylineRenderer alloc]initWithPolyline:overlay];

        //设置线的长度
        [renderer setLineWidth:2];

        //设置线的颜色
        [renderer setStrokeColor:[UIColor redColor]];
        return renderer;
}
    return nil;

}
</code></pre>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-10-19T23:42:39+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/10/19/ios13/" itemprop="url">MKLocalSearch附近兴趣点的搜索</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>现在很多主流app都有涉及到O2O的模块，根据用户的需求和用户的位置，给用户提供最准确最贴心的服务。其中LBS功能可以帮我们实现这一点。这次刚好用到它，所以拿它出来说说。功能主要通过iOS原生方法MKLocalSearch实现。</p>

<pre><code>//实例化一个搜索请求
MKLocalSearchRequest* request = [[MKLocalSearchRequest alloc]init];

//searchStr：搜索的内容
request.naturalLanguageQuery = searchStr;

//指定搜索范围，如果用的是模拟器，可以模拟一个经纬度(23.071123, 113.404434)
request.region = MKCoordinateRegionMakeWithDistance(CLLocationCoordinate2DMake(23.071123, 113.404434),
 1000, 1000);

//实例化 MKLocalSearch
MKLocalSearch localSearch = [[MKLocalSearch alloc]initWithRequest:request];

//开始搜索
[localSearch startWithCompletionHandler:^(MKLocalSearchResponse * _Nullable response,
 NSError * _Nullable error) {
    if (response.mapItems.count==0||error!=nil) {
        NSLog(@"error : %@",error);
    }else{
        //取得搜索后的结果 response.mapItems
    }
}];
</code></pre>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-10-15T16:26:52+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/10/15/ios12/" itemprop="url">利用Parse为我们的app构建后台服务</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>一、什么是Parse?</p>

<p>Parse是一群美国人开发的专为移动APP服务的云计算平台，与现有的其他云计算平台相比，Parse除了提供Restful的service 之外，也提供了官方的iOS和Android SDK。</p>

<p>二、如何导入Parse的iOS SDK?</p>

<p>可以参考<a href="https://www.parse.com/docs">https://www.parse.com/docs</a></p>

<p>三、如何使用Parse为我们app实现登录注册功能</p>

<p>1、先在 <a href="https://www.parse.com">https://www.parse.com</a> 创建一个app，得到它的ApplicationId和clientKey，然后在AppDelegate注册，这是必要的配置工作</p>

<pre><code>#import &lt;Parse/Parse.h&gt;
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:
- (NSDictionary *)launchOptions {
// Initialize Parse.
[Parse setApplicationId:@"omV1NT7fu3QX91ph5lIBj5LANoaMhSvlxXC5Awdt"
              clientKey:@"hMXPZhDtZ14lNKpZuuuodtxo0RCramJHDN0go4Uy"];
return YES;
} 
</code></pre>

<p>2、在你的app的注册界面实例化一个PFUser对象，用用户的注册信息对它属性进行赋值，并提交它</p>

<pre><code>PFUser* myuser = [[PFUser alloc]init];
myuser.username = userPhoneNum;//用户名
myuser.password = userPassword;//密码
myuser.email = userEmail;//邮箱

[myuser signUpInBackgroundWithBlock:^(BOOL succeeded, NSError * _Nullable error) {
    if (!succeeded) {
        //注册失败
    }else{
        //注册成功
   }
}];
</code></pre>

<p>3、在你的app的登录界面，将登录信息提交给Parse后台进行验证</p>

<pre><code>[PFUser logInWithUsernameInBackground:username password:password 
    block:^(PFUser * _Nullable user, NSError * _Nullable error) {
    //username和password是你提交的登录信息
    if (user!=nil) {
        //登录成功
    }else{
        //登录失败
    }
}];
</code></pre>

<p>4、退出当前账号</p>

<pre><code>[PFUser logOutInBackgroundWithBlock:^(NSError * _Nullable error) {
    if (error) {
      //退出失败  
    }else{
       //退出成功 
    }
}];
</code></pre>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-10-14T19:06:18+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ios/'>ios</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/10/14/ios11/" itemprop="url">抽屉视图（MMDrawerController使用）</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>1、初始化MMDrawerController，用这个controller装载我们的不同视图控制器</p>

<pre><code>MMDrawerController* drawerController = [[MMDrawerController alloc]
initWithCenterViewController:controller1 leftDrawerViewController:controller2];
</code></pre>

<p>controller1是主视图，controller2是左侧视图</p>

<p>2、为drawerController添加打开抽屉和关闭抽屉的手势</p>

<pre><code>drawerController.openDrawerGestureModeMask = MMOpenDrawerGestureModePanningCenterView;
drawerController.closeDrawerGestureModeMask = MMCloseDrawerGestureModePanningCenterView;
</code></pre>

<p>3、打开抽屉</p>

<pre><code>[drawerController toggleDrawerSide:MMDrawerSideLeft animated:YES completion:nil];
</code></pre>

<p>执行这个方法可以打开左侧抽屉视图，一般用作点击事件</p>

<p>详细使用：<a href="https://github.com/mutualmobile/MMDrawerController">https://github.com/mutualmobile/MMDrawerController</a></p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
    
        <a href="2" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2016 - Xindong -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->







		</div>
	</div>
</body>
</html>
